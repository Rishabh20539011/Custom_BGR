(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1479)}])},1479:function(e,t,n){"use strict";n.r(t),n.d(t,{Loader:function(){return Loader}});var o=n(2729),a=n(5893),r=n(7294),l=n(94),i=n(1194),s=n(3920),c=n(6154),d=n(2612),p=n.n(d);function _templateObject(){let e=(0,o._)(["\n  align-items: center; /* Center items vertically */\n  // flex-wrap: wrap; /* Wrap to the next line if there are more than 3 dropdowns */\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,o._)(["\n  display: flex; /* Use flexbox to create a horizontal layout */\n  justify-content: space-around; /* Space around items in the row */\n  text-align: center;\n  flex-wrap:wrap; \n  margin: 10px;\n  padding: 10px;\n  background-color: #f1f1f1;\n  border-radius: 5px;\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,o._)(["\n  background-color: #3498db;\n  color: white;\n  padding: 20px;\n  margin: 0;\n"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,o._)(["\n  display: block;\n  margin-bottom: 10px;\n"]);return _templateObject3=function(){return e},e}function _templateObject4(){let e=(0,o._)(["\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  font-size: 16px;\n  width: 200px;\n"]);return _templateObject4=function(){return e},e}function _templateObject5(){let e=(0,o._)(["\n  margin-top: 10px;\n  font-weight: bold;\n"]);return _templateObject5=function(){return e},e}function _templateObject6(){let e=(0,o._)(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr); /* Two columns */\n  gap: 300px; /* Gap between boxes */\n  justify-content: center; /* Center the grid horizontally */\n  margin: 20px 200px 0;\n"]);return _templateObject6=function(){return e},e}function _templateObject7(){let e=(0,o._)(["\n  width: 200px;\n  height: 200px;\n  background-color: #3498db;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  font-size: 24px;\n  margin: 10px; /* Equal margins around the square box */\n  padding: 10px; /* Equal padding inside the square box */\n"]);return _templateObject7=function(){return e},e}function _templateObject8(){let e=(0,o._)(["\n  max-width: 100%;\n  max-height: 100%;\n"]);return _templateObject8=function(){return e},e}function _templateObject9(){let e=(0,o._)(["\n  background-color: #3498db;\n  color: white;\n  padding: 10px 20px;\n  border: none;\n  border-radius: 5px;\n  font-size: 18px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n\n  &:hover {\n    background-color: #2577b5;\n  }\n"]);return _templateObject9=function(){return e},e}let u=s.io.connect("http://localhost:8000");u.on("connect",function(){console.log("Connected to server")}),u.on("image",function(e){document.getElementById("imageElementId").src="data:image/png;base64,"+e.image}),u.on("receive_image",e=>{setResponseImage(e.image)});let m=l.Z.div(_templateObject()),h=l.Z.div(_templateObject1()),g=l.Z.h1(_templateObject2()),x=l.Z.label(_templateObject3()),_=l.Z.select(_templateObject4());l.Z.p(_templateObject5());let j=l.Z.div(_templateObject6());l.Z.div(_templateObject7()),l.Z.img(_templateObject8());let b=l.Z.button(_templateObject9()),Loader=e=>{let{height:t}=e;return(0,a.jsx)("div",{className:p().loaderContainer,children:(0,a.jsx)("div",{style:t&&{height:t,width:t},className:p().loader})})};t.default=function(){let[e,t]=(0,r.useState)({segmentationModel:"pretrained",mattingModel:"fba_mat",segmentationThreshold:.5,seg_mask_size:320,update_model:!0,device:"cuda"}),[n,o]=(0,r.useState)(null),[l,s]=(0,r.useState)(null),[d,u]=(0,r.useState)(!1),getResult=async()=>{u(!0);try{let t=await c.Z.post("http://localhost:8881/process",{data:e,image:n});s(t.data.image)}catch(e){console.log("Process error:",e)}u(!1)},handleFileChange=async e=>{let t=e.target.files[0];try{if(t){let n=new FileReader;n.readAsDataURL(e.target.files[0]),n.onload=e=>{o(n.result)},n.readAsDataURL(t)}else o(null)}catch(e){e.response?(console.log("Data:",e.response.data),console.log("Status:",e.response.status),console.log("Headers:",e.response.headers)):e.request?console.log("Request:",e.request):console.log("Error:",e.message)}};return(0,a.jsxs)(m,{children:[(0,a.jsx)(g,{style:{textAlign:"center",fontSize:"40px"},children:"CUSTOM BGR TOOL"}),(0,a.jsxs)(h,{className:p().optionsParent,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{htmlFor:"dropdown",children:"Select Segmentation Model:"}),(0,a.jsxs)(_,{id:"dropdown",value:e.segmentationModel,onChange:n=>{t({...e,segmentationModel:n.target.value})},children:[(0,a.jsx)("option",{value:"custom",children:"Custom"}),(0,a.jsx)("option",{value:"pretrained",children:"Pretrained"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{htmlFor:"dropdown",children:"Select Matting Model:"}),(0,a.jsxs)(_,{id:"dropdown",value:e.mattingModel,disabled:!0,onChange:n=>{t({...e,mattingModel:n.target.value})},children:[(0,a.jsx)("option",{value:"fba_mat",children:"FBA_MAT"}),(0,a.jsx)("option",{value:"vit_mat",children:"VIT_MAT"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{htmlFor:"dropdown",children:"Select Device:"}),(0,a.jsxs)(_,{id:"dropdown",value:e.device,onChange:n=>{t({...e,device:n.target.value})},children:[(0,a.jsx)("option",{value:"cuda",children:"Cuda"}),(0,a.jsx)("option",{value:"cpu",children:"CPU"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{htmlFor:"dropdown",children:"Select Segmentation Threshold:"}),(0,a.jsx)(i.Z,{type:"number",value:e.segmentationThreshold,onChange:n=>{t({...e,segmentationThreshold:n.target.value})},min:0,max:1})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{htmlFor:"dropdown",children:"Select Mask Size:"}),(0,a.jsx)(i.Z,{type:"number",value:e.seg_mask_size,onChange:n=>{t({...e,seg_mask_size:n.target.value})},min:256,max:1024})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{htmlFor:"dropdown",children:"Update Model:"}),(0,a.jsx)(i.Z,{type:"checkbox",style:{width:"20px"},checked:e.update_model,onClick:n=>{t({...e,update_model:!e.update_model})}})]})]}),(0,a.jsxs)(j,{style:{justifyContent:"stretch"},children:[(0,a.jsxs)("div",{className:p().container,children:[(0,a.jsx)("div",{className:p().placeholder,children:n?(0,a.jsx)("img",{src:n,alt:"Selected"}):(0,a.jsx)("p",{children:"Please choose image to start"})}),(0,a.jsx)(i.Z,{type:"file",onChange:handleFileChange,inputProps:{accept:"image/*"}})]}),(0,a.jsxs)("div",{className:p().container,children:[(0,a.jsxs)("div",{className:p().placeholder,children:[d&&(0,a.jsx)(Loader,{height:"4em"}),l?(0,a.jsx)("img",{src:"data:image/png;base64,".concat(l),alt:"Selected"}):d?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)("p",{children:"Waiting for response"})]}),(0,a.jsx)(b,{onClick:()=>{getResult()},children:"Get Result"})]})]})]})}},2612:function(e){e.exports={container:"Root_container__ALpq0",placeholder:"Root_placeholder__G5vsJ",optionsParent:"Root_optionsParent__lxQHQ",loaderContainer:"Root_loaderContainer__dVoWF",loader:"Root_loader___mZ8I",rotation:"Root_rotation__eBBP5"}}},function(e){e.O(0,[757,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);